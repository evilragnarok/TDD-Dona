<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buy VIP / Coin TorrentDD</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    /* Styling for the page */
    :root {
      --bg: #e6f7f0;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --main: #2ecc71;
      --dark: #27ae60;
      --border: #d1d5db;
    }
    body.dark {
      --bg: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 1rem;
      font-family: "Prompt", sans-serif;
      background: linear-gradient(135deg, var(--bg), #ffffff);
      color: var(--text);
      transition: .3s;
    }
    .box {
      max-width: 560px;
      margin: auto;
      background: var(--card);
      padding: 1.8rem;
      border-radius: 26px;
      box-shadow: 0 25px 45px rgba(0, 0, 0, .18);
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .lang-switch {
      display: flex;
      background: rgba(255, 255, 255, .65);
      backdrop-filter: blur(8px);
      border-radius: 999px;
      padding: 4px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, .15);
    }
    .lang-switch button {
      border: none;
      background: transparent;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: .75rem;
      cursor: pointer;
      color: var(--muted);
    }
    .lang-switch button.active {
      background: linear-gradient(135deg, var(--main), var(--dark));
      color: #fff;
      box-shadow: 0 0 12px rgba(46, 204, 113, .6);
    }
    .dark-toggle {
      cursor: pointer;
      font-size: 1.1rem;
      padding: 6px 10px;
      border-radius: 50%;
    }
    h2 {
      text-align: center;
      color: var(--dark);
    }
    .subtitle {
      text-align: center;
      color: var(--muted);
    }
    label {
      display: block;
      margin-top: 14px;
      font-weight: 500;
    }
    input, select {
      width: 100%;
      padding: 14px;
      margin-top: 6px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--text);
    }
    button {
      width: 100%;
      margin-top: 20px;
      padding: 16px;
      border: none;
      border-radius: 18px;
      background: linear-gradient(135deg, var(--main), var(--dark));
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    button:hover {
      box-shadow: 0 0 18px rgba(46, 204, 113, .55);
    }
    .payment-box {
      margin-top: 22px;
      background: #f0fdf4;
      padding: 16px;
      border-left: 6px solid var(--main);
      border-radius: 18px;
      font-size: .9rem;
    }
    body.dark .payment-box { background: #022c22; }
    #preview {
      width: 100%;
      margin-top: 14px;
      border-radius: 18px;
      display: none;
      border: 1px dashed var(--border);
    }
    .contact-box {
      margin-top: 14px;
      text-align: center;
      font-size: .85rem;
    }
    .contact-box a {
      color: var(--dark);
      font-weight: 500;
    }
  </style>
</head>

<body>

<div class="box">
  <div class="topbar">
    <div class="lang-switch">
      <button id="btnTH" onclick="setLang('th')">ðŸ‡¹ðŸ‡­ TH</button>
      <button id="btnEN" onclick="setLang('en')">ðŸ‡ºðŸ‡¸ EN</button>
    </div>
    <div class="dark-toggle" onclick="toggleDark()">ðŸŒ™</div>
  </div>

  <h2 data-th="ðŸ’Ž à¸‹à¸·à¹‰à¸­ VIP / Coin TorrentDD" data-en="ðŸ’Ž Buy VIP / Coin TorrentDD"></h2>

  <p class="subtitle" data-th="à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸¥à¸´à¸› à¸«à¸£à¸·à¸­ à¸à¸£à¸­à¸à¹€à¸¥à¸‚ 4 à¸•à¸±à¸§à¸—à¹‰à¸²à¸¢" data-en="Upload payment slip or enter last 4 digits"></p>

  <form id="payForm">
    <label data-th="ðŸ“¦ à¹€à¸¥à¸·à¸­à¸à¹à¸žà¹‡à¸à¹€à¸à¸ˆ" data-en="ðŸ“¦ Select Package"></label>
    <select name="package" required>
      <option disabled selected data-th="-- à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¹à¸žà¹‡à¸à¹€à¸à¸ˆ --" data-en="-- Select Package --"></option>
      <option data-th="VIP 1 à¹€à¸”à¸·à¸­à¸™ - 200 à¸šà¸²à¸—" data-en="VIP 1 Month - 200 THB"></option>
      <option data-th="VIP 3 à¹€à¸”à¸·à¸­à¸™ - 425 à¸šà¸²à¸—" data-en="VIP 3 Months - 425 THB"></option>
      <option data-th="VIP 6 à¹€à¸”à¸·à¸­à¸™ - 750 à¸šà¸²à¸—" data-en="VIP 6 Months - 750 THB"></option>
      <option data-th="VIP 1 à¸›à¸µ - 1250 à¸šà¸²à¸—" data-en="VIP 1 Year - 1,250 THB"></option>
      <option data-th="VIP 2 à¸›à¸µ - 2050 à¸šà¸²à¸—" data-en="VIP 2 Years - 2,050 THB"></option>
      <option data-th="Coin 1,200 - 200 à¸šà¸²à¸—" data-en="Coin 1,200 - 200 THB"></option>
      <option data-th="Coin 3,000 - 425 à¸šà¸²à¸—" data-en="Coin 3,000 - 425 THB"></option>
      <option data-th="Coin 5,000 - 750 à¸šà¸²à¸—" data-en="Coin 5,000 - 750 THB"></option>
      <option data-th="Coin 9,000 - 1250 à¸šà¸²à¸—" data-en="Coin 9,000 - 1,250 THB"></option>
      <option data-th="Coin 15,000 - 2050 à¸šà¸²à¸—" data-en="Coin 15,000 - 2,050 THB"></option>
      <option data-th="Donation (à¸šà¸£à¸´à¸ˆà¸²à¸„à¸„à¹ˆà¸²à¹‚à¸«à¸¥à¸”à¸«à¸™à¸±à¸‡)" data-en="Donation (Support site download cost)"></option>
    </select>

    <label data-th="ðŸ‘¤ User In TorrentDD" data-en="ðŸ‘¤ TorrentDD Username"></label>
    <input name="username" required minlength="6" maxlength="16" pattern="[A-Za-z0-9]{6,16}" data-ph-th="à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸©à¸«à¸£à¸·à¸­à¸•à¸±à¸§à¹€à¸¥à¸‚à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ (6â€“16 à¸•à¸±à¸§)" data-ph-en="English letters & numbers only (6â€“16 chars)" data-title-th="à¸à¸£à¸­à¸à¹„à¸”à¹‰à¹€à¸‰à¸žà¸²à¸°à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸©à¹à¸¥à¸°à¸•à¸±à¸§à¹€à¸¥à¸‚ à¸„à¸§à¸²à¸¡à¸¢à¸²à¸§ 6â€“16 à¸•à¸±à¸§" data-title-en="Use English letters and numbers only (6â€“16 characters)">

    <label data-th="ðŸ–¼ à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸¥à¸´à¸› (à¸–à¹‰à¸²à¸¡à¸µ)" data-en="ðŸ–¼ Upload payment slip (optional)"></label>
    <input type="file" id="slip" accept="image/*">
    <img id="preview">

    <label data-th="ðŸ”¢ à¹€à¸¥à¸‚ 4 à¸•à¸±à¸§à¸—à¹‰à¸²à¸¢ (à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸¥à¸´à¸›)" data-en="ðŸ”¢ Last 4 digits (if no slip)"></label>
    <input name="last4" maxlength="4" pattern="[0-9]{4}">

    <button id="sendBtn" data-th="âœ… à¹à¸ˆà¹‰à¸‡à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™" data-en="âœ… Submit Payment"></button>
  </form>

  <div class="payment-box">
    <div style="text-align:center;margin-bottom:16px">
      <img src="https://s1.imgbb.ws/file/storage-sv1/giVH2.png" style="width:100%;max-width:320px;border-radius:18px">
      <div style="font-size:.8rem;color:var(--muted)" data-th="à¸ªà¹à¸à¸™à¹€à¸žà¸·à¹ˆà¸­à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™" data-en="Scan to pay"></div>
    </div>
    <div><b>Bank :</b> Krungthai Bank</div>
    <div><b>Account :</b> 986-3-03446-0</div>
    <div><b>PromptPay :</b> 0910541671</div>
    <div><b>TrueWallet :</b> 0830439347</div>
    <div><b>Name :</b> Akrapong Pengrod</div>
  </div>

  <div class="contact-box">
    ðŸ“© Contact :
    <a href="https://www.torrentdd.com/userdetails.php?id=973308" target="_blank">3vilr4gn4r0k</a>
  </div>

</div>

<script>
// Bot Telegram Configuration
const BOT_TOKEN = "8265712317:AAET88mDq8GFJSN9zRys1wJ4AwPQ7hmtYbI";
const CHAT_ID = "6678480860";

// Language and Dark Mode
let lang = localStorage.lang || "th";
let dark = localStorage.dark === "1";
let slipFile = null;

function applyLang() {
  document.querySelectorAll("[data-th]").forEach(el => {
    el.innerText = el.dataset[lang];
  });
  document.querySelectorAll("option[data-th]").forEach(opt => {
    opt.text = opt.dataset[lang];
  });
  document.querySelectorAll("[data-ph-th]").forEach(el => {
    el.placeholder = lang === "th" ? el.dataset.phTh : el.dataset.phEn;
  });
  document.querySelectorAll("[data-title-th]").forEach(el => {
    el.title = lang === "th" ? el.dataset.titleTh : el.dataset.titleEn;
  });
  btnTH.classList.toggle("active", lang === "th");
  btnEN.classList.toggle("active", lang === "en");
  localStorage.lang = lang;
}

function setLang(l) {
  lang = l;
  applyLang();
}

function toggleDark() {
  dark = !dark;
  document.body.classList.toggle("dark", dark);
  localStorage.dark = dark ? "1" : "0";
}

slip.addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;
  slipFile = file;
  const reader = new FileReader();
  reader.onload = () => {
    preview.src = reader.result;
    preview.style.display = "block";
  };
  reader.readAsDataURL(file);
});

async function sendToTelegram(message, slipFile) {
  const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
  const body = {
    chat_id: CHAT_ID,
    text: message,
    parse_mode: "Markdown"
  };

  const requestOptions = {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(body)
  };

  try {
    await fetch(url, requestOptions);

    if (slipFile) {
      const sendPhotoUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`;
      const formData = new FormData();
      formData.append('chat_id', CHAT_ID);
      formData.append('photo', slipFile);
      await fetch(sendPhotoUrl, {
        method: 'POST',
        body: formData
      });
    }
  } catch (error) {
    console.error("Error sending message to Telegram:", error);
  }
}

payForm.addEventListener("submit", async e => {
  e.preventDefault();
  const f = e.target;
  const username = f.username.value.trim();
  const last4 = f.last4.value.trim();
  const package = f.package.options[f.package.selectedIndex].text;
  const time = new Date().toLocaleString("th-TH", { timeZone: "Asia/Bangkok" });

  if (!slipFile && !last4) {
    alert("à¸à¸£à¸¸à¸“à¸²à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸¥à¸´à¸› à¸«à¸£à¸·à¸­ à¸à¸£à¸­à¸à¹€à¸¥à¸‚ 4 à¸•à¸±à¸§à¸—à¹‰à¸²à¸¢");
    return;
  }

  let message = `
*ðŸ’Ž New Payment Request:*

ðŸ‘¤ *Username*: ${username}
ðŸ“¦ *Package*: ${package}
ðŸ•°ï¸ *Time*: ${time}
`;

  if (slipFile) {
    message += `ðŸ–¼ï¸ *Payment Slip Attached*`;
  } else {
    message += `ðŸ”¢ *Last 4 Digits*: ${last4}`;
  }

  try {
    await sendToTelegram(message, slipFile);

    // Show alert with countdown message
    alert("à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹„à¸”à¹‰à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§!!");

    // Reset the form and page after 1 seconds
    setTimeout(() => {
      payForm.reset();
      preview.style.display = "none";
      slipFile = null;
      applyLang();
      document.body.classList.toggle("dark", dark);
    }, 1000);

  } catch (error) {
    alert("Error sending payment data");
  }
});

document.body.classList.toggle("dark", dark);
applyLang();
</script>

</body>
</html>
